---
title: Setup Ingress to redirect security.txt 
last_reviewed_on: 2021-09-30
review_in: 3 months
---

# <%= current_page.data.title %>

Security has a requirement that all domains where the Ministry of Justice (MoJ) is primarily responsible 
for cyber security must redirect the `/.well-known/security.txt` location to the central [`security.txt`](https://raw.githubusercontent.com/ministryofjustice/security-guidance/main/contact/vulnerability-disclosure-security.txt). 
Refer security guidance [here](https://security-guidance.service.justice.gov.uk/implement-security-txt/#implementing-securitytxt).

To setup a permanent redirect to the central [`security.txt`](https://raw.githubusercontent.com/ministryofjustice/security-guidance/main/contact/vulnerability-disclosure-security.txt), 

- create a **new** ingress-redirect.yaml with the annotation

    ```
    metadata:
    annotations:
    nginx.ingress.kubernetes.io/permanent-redirect: https://raw.githubusercontent.com/ministryofjustice/security-guidance/main/contact/vulnerability-disclosure-security.txt
    ```

    An example is shown below:

    ```
    ---
    apiVersion: networking.k8s.io/v1beta1
    kind: Ingress
    metadata:
    name: helloworld-rubyapp-ingress-security-txt-redirect
    annotations:
        kubernetes.io/ingress.class: nginx
        nginx.ingress.kubernetes.io/permanent-redirect: https://raw.githubusercontent.com/ministryofjustice/security-guidance/main/contact/vulnerability-disclosure-security.txt
    spec:
    tls:
    - hosts:
        - helloworld-demo-app.apps.live-1.cloud-platform.service.justice.gov.uk
    rules:
    - host: helloworld-demo-app.apps.live-1.cloud-platform.service.justice.gov.uk
        http:
        paths:
        - path: /.well-known/security.txt
            backend:
            serviceName: rubyapp-service
            servicePort: 4567
    ```

- Apply your `ingress-redirect.yaml` file to the cluster

  ```bash
  kubectl -n <my-namespace> apply -f ingress-redirect.yaml
  ```